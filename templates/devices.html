
{% extends 'base.html' %}
{% block content %}
<div class="card shadow p-4 neo-card">
  <div class="d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-2 mb-3">
    <h2 class="text-primary mb-0">Device List</h2>
    <form class="d-flex" method="get">
      <input class="form-control me-2" type="search" placeholder="Search serial, tag, or type..." name="q" value="{{ q or '' }}">
      <button class="btn btn-outline-primary" type="submit">Search</button>
    </form>
  </div>

  {% if devices %}
  <div class="table-responsive">
    <table class="table table-hover align-middle">
      <thead class="table-primary">
        <tr>
          <th>ID</th>
          <th>Serial Number</th>
          <th>Tag Number</th>
          <th>Device Type</th>
          <th>Created At (UTC)</th>
        </tr>
      </thead>
      <tbody>
        {% for d in devices %}
        <tr>
          <td>{{ d[0] }}</td>
          <td class="fw-medium">{{ d[1] }}</td>
          <td>{{ d[2] }}</td>
          <td>{{ d[3] }}</td>
          <td><code class="small text-muted">{{ d[4] }}</code></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
  <p class="text-muted">No devices added yet.</p>
  {% endif %}
</div>
{% endblock %}
